### Локальные переменные

Объявление переменной: 
DECLARE имя_переменной [, имя переменной ] ... type [DEFAULT значение]
Локальные переменные
Локальные переменные находятся в области действия только во время выполнения хранимой программы, ссылки на них не допускаются.
Локальная переменная не должна иметь то же имя, что и столбец таблицы

```sql
DELIMITER //
create procedure new_proc1(in var1 int)
  begin 
    select * from cinema limit var1;
  end //
DELIMITER ;
```

Процедура с локальными переменными:
```sql
use DimkaTop;

DELIMITER //

CREATE PROCEDURE `new_proc1`()
BEGIN 
	DECLARE a INT DEFAULT 10;
	DECLARE b, c INT;
	SET a = a + 100;
	SET b = 2;
	SET c = a + b;
BEGIN
	DECLARE c INT;
    SET c = 5;
    SELECT a, b, c;
END;
SELECT a, b, c;
END//

DELIMITER ;
```

### Пользовательские переменные:
Пример использования пользовательских переменных внутри хранимой процедуры:
```sql
DELIMITER //
CREATE PROCEDURE my_proc_User_Var()
BEGIN
	SET @x = 15;
	SET @y = 10;
	SELECT @x, @y, @x-@y;
END//
```

Пользовательские переменные действуют только в рамках одного сеанса соединения с сервером.
Имена переменных чувствительны к регистру.
Можно объявлять переменные при помощи оператора SET или без него.
Объявление переменной начинается с символа "@", за которым следует имя переменной.
Значения переменным присваиваются посредством оператора SEKECT ... INTO и оператора присваивания двоеточия ":=" или "="
Пример: 
```sql
SELECT @tot:=COUNT(*) FROM tblProduct
```

Чтобы присвоить переменной результат select, необходимо использовать следующий синтаксис:

```sql
SET @myVar=(SELECT column_name FROM table_name WHERE.id=5);
```
myVar - наименование переменной
column_name - наименование столбца
table_name - наименование таблицы

Если хотите сохранить результат запроса в переменных, то используйте SELECT INTO. Делается это так:
```sql
SELECT
c1, c2,  c3...
INTO
@v1, @v2, @v3...
FROM
	table_name
WHERE
	condition;
```
Где c1, c2, c3 - это столбцы, которые хотим сохранить, @v1 и т.д. - переменные которые будут хранить значения столбцов.
Кол-во столбцов и кол-во переменных должно совпадать, иначе будет выдана ошибка.


